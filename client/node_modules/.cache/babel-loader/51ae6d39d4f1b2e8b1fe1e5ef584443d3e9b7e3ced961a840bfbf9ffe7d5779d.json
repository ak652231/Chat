{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport io from 'socket.io-client';\nconst socket = io('http://localhost:5000', {\n  auth: {\n    token: localStorage.getItem('token')\n  } // Ensure token is sent for authentication\n});\nconst useSocket = () => {\n  _s();\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('Connected to server');\n    });\n    socket.on('message_sent', message => {\n      console.log('Message sent:', message);\n    });\n    socket.on('new_message', message => {\n      console.log('New message:', message);\n    });\n    socket.on('disconnect', () => {\n      console.log('Disconnected from server');\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n  return socket;\n};\n_s(useSocket, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","io","socket","auth","token","localStorage","getItem","useSocket","_s","on","console","log","message","disconnect"],"sources":["C:/Users/Akshay Kadam/Desktop/WebDev/chat/client/src/utils/socket.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io('http://localhost:5000', {\r\n  auth: { token: localStorage.getItem('token') } // Ensure token is sent for authentication\r\n});\r\n\r\nconst useSocket = () => {\r\n  useEffect(() => {\r\n    socket.on('connect', () => {\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    socket.on('message_sent', (message) => {\r\n      console.log('Message sent:', message);\r\n    });\r\n\r\n    socket.on('new_message', (message) => {\r\n      console.log('New message:', message);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('Disconnected from server');\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return socket;\r\n};\r\n\r\nexport default useSocket;\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAuB,EAAE;EACzCE,IAAI,EAAE;IAAEC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;EAAE,CAAC,CAAC;AACjD,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtBR,SAAS,CAAC,MAAM;IACdE,MAAM,CAACO,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC,CAAC,CAAC;IAEFT,MAAM,CAACO,EAAE,CAAC,cAAc,EAAGG,OAAO,IAAK;MACrCF,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEC,OAAO,CAAC;IACvC,CAAC,CAAC;IAEFV,MAAM,CAACO,EAAE,CAAC,aAAa,EAAGG,OAAO,IAAK;MACpCF,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEC,OAAO,CAAC;IACtC,CAAC,CAAC;IAEFV,MAAM,CAACO,EAAE,CAAC,YAAY,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACzC,CAAC,CAAC;IAEF,OAAO,MAAM;MACXT,MAAM,CAACW,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOX,MAAM;AACf,CAAC;AAACM,EAAA,CAxBID,SAAS;AA0Bf,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}